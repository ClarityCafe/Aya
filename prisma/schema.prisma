generator client {
    provider = "prisma-client-js"
}

datasource prod_db {
    provider = "postgresql"
    url = env("POSTGRES_URL")
}

datasource dev_db {
    provider = "postgresql"
    url = env("POSTGRES_DEV_URL")
}

// This is only to give a reference model, this is linked and related to a Reddit URL
model User {
    id Int @id
    name String
    bio String 
    reddit_link String @unique
    posts Post[]
    collections Collection[]
}

model Post {
    id Int @id
    author User @relation(fields: [authorId], references: [id])
    authorId Int
    cdnUrl String
    isNsfw Boolean
    accountType  AccountType @default(USER_FREE)
    sourceUrl String?
    caption String
    tags String[]
}

model Collection {
    id Int @id 
    name String
    author User @relation(fields: [authorId], references: [id])
    authorId Int
    isNsfw Boolean
    posts Post[]
}

enum AccountType {
    ADMIN
    USER_FREE
    USER_SUPPORTER
    USER_PARTNER
}